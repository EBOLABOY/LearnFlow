(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{8762:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/invitations",function(){return t(3760)}])},3323:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(5893),r=t(7294),l=t(1163),i=t(7828);function n(e){var s;let{children:t,title:n="管理后台"}=e,[d,o]=(0,r.useState)(!1),{user:m,logout:x}=(0,i.aC)(),h=(0,l.useRouter)(),u=[{name:"仪表板",href:"/admin/dashboard",icon:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"},{name:"用户管理",href:"/admin/users",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"},{name:"邀请码管理",href:"/admin/invitations",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}],p=e=>h.pathname===e;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden ".concat(d?"":"hidden"),children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>o(!1)}),(0,a.jsxs)("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,a.jsx)("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>o(!1),children:(0,a.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),(0,a.jsx)(c,{navigation:u,isActive:p})]})]}),(0,a.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,a.jsx)("div",{className:"flex min-h-0 flex-1 flex-col bg-white border-r border-gray-200",children:(0,a.jsx)(c,{navigation:u,isActive:p})})}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col lg:pl-64",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-white shadow-sm border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex h-16 items-center gap-x-4 px-4 sm:gap-x-6 sm:px-6 lg:px-8",children:[(0,a.jsx)("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>o(!0),children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,a.jsxs)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[(0,a.jsx)("div",{className:"flex flex-1 items-center",children:(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:n})}),(0,a.jsx)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:null==m?void 0:null===(s=m.email)||void 0===s?void 0:s.charAt(0).toUpperCase()})})}),(0,a.jsxs)("div",{className:"hidden min-w-0 flex-1 lg:block",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null==m?void 0:m.email}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"管理员"})]}),(0,a.jsx)("button",{onClick:x,className:"text-sm text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-md px-2 py-1",children:"退出"})]})})})]})]})}),(0,a.jsx)("main",{className:"flex-1 pb-8",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:t})})]})]})}function c(e){let{navigation:s,isActive:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex h-16 shrink-0 items-center border-b border-gray-200 px-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-8 w-8 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-bold text-white",children:"深"})}),(0,a.jsx)("span",{className:"ml-2 text-lg font-semibold text-gray-900",children:"学助手"})]})}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 px-2 py-4",children:s.map(e=>(0,a.jsxs)("a",{href:e.href,className:"\n              group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-200\n              ".concat(t(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n            "),children:[(0,a.jsx)("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 ".concat(t(e.href)?"text-primary-500":"text-gray-400 group-hover:text-gray-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e.icon})}),e.name]},e.name))})]})}},3760:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),l=t(7828),i=t(6166),n=t(3323),c=t(651),d=t(6501);s.default=(0,l.QO)(function(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[o,m]=(0,r.useState)({}),[x,h]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)({page:1,limit:20,search:"",status:""}),[v,j]=(0,r.useState)({count:1,expiryDays:30});(0,r.useEffect)(()=>{y()},[g]);let b=(0,c.Ds)(e=>{f(s=>({...s,search:e,page:1}))},500),y=async()=>{try{l(!0);let e=await i.Sb.getInvitations(g);e.data.success?(s(e.data.data.invitations),m(e.data.data.pagination)):d.ZP.error("获取邀请码列表失败")}catch(e){console.error("获取邀请码列表失败:",e),d.ZP.error("获取邀请码列表失败")}finally{l(!1)}},N=async e=>{if(e.preventDefault(),v.count<1||v.count>100){d.ZP.error("生成数量必须在1-100之间");return}if(v.expiryDays<1||v.expiryDays>365){d.ZP.error("有效期必须在1-365天之间");return}try{p(!0);let e=await i.Sb.createInvitations(v);e.data.success?(d.ZP.success("成功生成".concat(e.data.data.count,"个邀请码")),h(!1),j({count:1,expiryDays:30}),y()):d.ZP.error("生成邀请码失败")}catch(e){var s,t;console.error("生成邀请码失败:",e),d.ZP.error((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"生成邀请码失败")}finally{p(!1)}},w=async(e,s)=>{if(confirm("确定要撤销邀请码 ".concat(s," 吗？此操作无法撤销。")))try{(await i.Sb.revokeInvitation(e)).data.success?(d.ZP.success("邀请码撤销成功"),y()):d.ZP.error("邀请码撤销失败")}catch(e){var t,a;console.error("邀请码撤销失败:",e),d.ZP.error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"邀请码撤销失败")}},k=async e=>{await (0,c.vQ)(e)?d.ZP.success("邀请码已复制到剪贴板"):d.ZP.error("复制失败，请手动复制")},C=e=>{f(s=>({...s,page:e}))},M=(e,s)=>{f(t=>({...t,[e]:s,page:1}))},S=e=>e.used_by_email?"used":new Date(e.expires_at)<new Date?"expired":"active";return(0,a.jsxs)(n.Z,{title:"邀请码管理",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"邀请码管理"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"创建和管理用户注册邀请码"})]}),(0,a.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,a.jsxs)("button",{onClick:()=>h(!0),className:"btn btn-primary flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"生成邀请码"]})})]}),(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"搜索邀请码"}),(0,a.jsx)("input",{type:"text",placeholder:"输入邀请码搜索...",className:"form-input",onChange:e=>b(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"邀请码状态"}),(0,a.jsxs)("select",{className:"form-input",value:g.status,onChange:e=>M("status",e.target.value),children:[(0,a.jsx)("option",{value:"",children:"全部状态"}),(0,a.jsx)("option",{value:"active",children:"可用"}),(0,a.jsx)("option",{value:"used",children:"已使用"}),(0,a.jsx)("option",{value:"expired",children:"已过期"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"每页显示"}),(0,a.jsxs)("select",{className:"form-input",value:g.limit,onChange:e=>M("limit",parseInt(e.target.value)),children:[(0,a.jsx)("option",{value:10,children:"10条"}),(0,a.jsx)("option",{value:20,children:"20条"}),(0,a.jsx)("option",{value:50,children:"50条"}),(0,a.jsx)("option",{value:100,children:"100条"})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("button",{onClick:y,disabled:t,className:"btn btn-secondary w-full",children:t?"加载中...":"刷新列表"})})]})}),(0,a.jsx)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"table-container",children:(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{className:"table-header",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"table-header-cell",children:"邀请码"}),(0,a.jsx)("th",{className:"table-header-cell",children:"状态"}),(0,a.jsx)("th",{className:"table-header-cell",children:"创建者"}),(0,a.jsx)("th",{className:"table-header-cell",children:"使用者"}),(0,a.jsx)("th",{className:"table-header-cell",children:"过期时间"}),(0,a.jsx)("th",{className:"table-header-cell",children:"创建时间"}),(0,a.jsx)("th",{className:"table-header-cell",children:"操作"})]})}),(0,a.jsx)("tbody",{className:"table-body",children:e.map(e=>{let s=S(e);return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"table-cell",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm font-mono",children:e.code}),(0,a.jsx)("button",{onClick:()=>k(e.code),className:"ml-2 text-gray-400 hover:text-gray-600 transition-colors duration-200",title:"复制邀请码",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})}),(0,a.jsx)("td",{className:"table-cell",children:(0,a.jsx)("span",{className:(0,c.Cl)(s),children:(0,c.li)(s)})}),(0,a.jsx)("td",{className:"table-cell",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.created_by_email})}),(0,a.jsx)("td",{className:"table-cell",children:e.used_by_email?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:e.used_by_email}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(0,c.SY)(e.used_at)})]}):(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"未使用"})}),(0,a.jsx)("td",{className:"table-cell",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:(0,c.p6)(e.expires_at,"YYYY-MM-DD")}),(0,a.jsx)("p",{className:"text-xs ".concat(new Date(e.expires_at)<new Date?"text-red-500":"text-gray-500"),children:(0,c.SY)(e.expires_at)})]})}),(0,a.jsx)("td",{className:"table-cell",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:(0,c.p6)(e.created_at,"YYYY-MM-DD")}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(0,c.SY)(e.created_at)})]})}),(0,a.jsx)("td",{className:"table-cell",children:"active"===s&&(0,a.jsx)("button",{onClick:()=>w(e.id,e.code),className:"text-xs px-2 py-1 bg-red-100 text-red-700 hover:bg-red-200 rounded-md transition-colors duration-200",children:"撤销"})})]},e.id)})})]})}),o.totalPages>1&&(0,a.jsxs)("div",{className:"px-6 py-3 border-t border-gray-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,a.jsx)("button",{onClick:()=>C(o.page-1),disabled:!o.hasPrev,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一页"}),(0,a.jsx)("button",{onClick:()=>C(o.page+1),disabled:!o.hasNext,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"下一页"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["显示第 ",(0,a.jsx)("span",{className:"font-medium",children:(o.page-1)*o.limit+1})," 到"," ",(0,a.jsx)("span",{className:"font-medium",children:Math.min(o.page*o.limit,o.total)})," ","条，共 ",(0,a.jsx)("span",{className:"font-medium",children:o.total})," 条记录"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,a.jsx)("button",{onClick:()=>C(o.page-1),disabled:!o.hasPrev,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Array.from({length:Math.min(5,o.totalPages)},(e,s)=>{let t=Math.max(1,o.page-2)+s;return t>o.totalPages?null:(0,a.jsx)("button",{onClick:()=>C(t),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(t===o.page?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:t},t)}),(0,a.jsx)("button",{onClick:()=>C(o.page+1),disabled:!o.hasNext,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})})]})]})]})})]}),x&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>h(!1)}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),(0,a.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"生成邀请码"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"生成数量"}),(0,a.jsx)("input",{type:"number",min:"1",max:"100",value:v.count,onChange:e=>j(s=>({...s,count:parseInt(e.target.value)||1})),className:"form-input",placeholder:"输入生成数量 (1-100)",required:!0}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"一次最多可生成100个邀请码"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"有效期（天）"}),(0,a.jsxs)("select",{value:v.expiryDays,onChange:e=>j(s=>({...s,expiryDays:parseInt(e.target.value)})),className:"form-input",required:!0,children:[(0,a.jsx)("option",{value:7,children:"7天"}),(0,a.jsx)("option",{value:15,children:"15天"}),(0,a.jsx)("option",{value:30,children:"30天"}),(0,a.jsx)("option",{value:60,children:"60天"}),(0,a.jsx)("option",{value:90,children:"90天"}),(0,a.jsx)("option",{value:180,children:"180天"}),(0,a.jsx)("option",{value:365,children:"365天"})]}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"邀请码过期后将自动失效"})]})]})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,a.jsx)("button",{type:"submit",disabled:u,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"loading-spinner mr-2"}),"生成中..."]}):"确认生成"}),(0,a.jsx)("button",{type:"button",onClick:()=>h(!1),disabled:u,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"取消"})]})]})})]})})]})})},651:function(e,s,t){"use strict";t.d(s,{Cl:function(){return l},Ds:function(){return n},SY:function(){return r},li:function(){return i},p6:function(){return a},uf:function(){return d},vQ:function(){return c}});let a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";if(!e)return"-";let t=new Date(e);if(isNaN(t.getTime()))return"-";let a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return s.replace("YYYY",a).replace("MM",r).replace("DD",l).replace("HH",i).replace("mm",n).replace("ss",c)},r=e=>{if(!e)return"-";let s=Math.floor((new Date-new Date(e))/1e3),t=Math.floor(s/60),r=Math.floor(t/60),l=Math.floor(r/24);return s<60?"刚刚":t<60?"".concat(t,"分钟前"):r<24?"".concat(r,"小时前"):l<7?"".concat(l,"天前"):a(e,"YYYY-MM-DD")},l=e=>({active:"status-badge status-active",inactive:"status-badge status-inactive",used:"status-badge status-used",expired:"status-badge status-expired",disabled:"status-badge status-inactive"})[e]||"status-badge status-inactive",i=e=>({active:"活跃",inactive:"未激活",used:"已使用",expired:"已过期",disabled:"已禁用",revoked:"已撤销"})[e]||e,n=(e,s)=>{let t;return function(){for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),e(...r)},s)}},c=async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(t){let s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.focus(),s.select();try{return document.execCommand("copy"),!0}catch(e){return!1}finally{document.body.removeChild(s)}}},d=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8762)}),_N_E=e.O()}]);