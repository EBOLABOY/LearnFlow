(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{6863:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return a(316)}])},316:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var r=a(5893),l=a(7294),t=a(1163),i=a(7828),n=a(6501);function d(){let[e,s]=(0,l.useState)({email:"",password:""}),[a,d]=(0,l.useState)(!1),{login:o,user:c}=(0,i.aC)(),m=(0,t.useRouter)();(0,l.useEffect)(()=>{c&&"admin"===c.role&&m.replace("/admin/dashboard")},[c,m]);let u=async s=>{if(s.preventDefault(),!e.email||!e.password){n.ZP.error("请填写完整的登录信息");return}d(!0);try{let s=await o(e.email,e.password);s.success?(n.ZP.success("登录成功！"),m.push("/admin/dashboard")):n.ZP.error(s.message||"登录失败")}catch(e){n.ZP.error("登录失败，请稍后重试")}finally{d(!1)}},x=a=>{s({...e,[a.target.name]:a.target.value})};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto h-16 w-16 bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl flex items-center justify-center shadow-lg",children:(0,r.jsx)("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"管理后台"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"深学助手管理系统"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[(0,r.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"form-label",children:"管理员邮箱"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:x,className:"form-input",placeholder:"请输入管理员邮箱",disabled:a})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"form-label",children:"登录密码"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e.password,onChange:x,className:"form-input",placeholder:"请输入登录密码",disabled:a})]}),(0,r.jsx)("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white \n                ".concat(a?"bg-gray-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"," transition-colors duration-200"),children:a?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"loading-spinner mr-2"}),"登录中..."]}):"立即登录"})]}),(0,r.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("svg",{className:"h-5 w-5 text-blue-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,r.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,r.jsx)("p",{className:"font-medium",children:"管理员登录"}),(0,r.jsx)("p",{className:"mt-1",children:"只有具备管理员权限的账户才能访问此系统"})]})]})})]}),(0,r.jsx)("div",{className:"text-center text-xs text-gray-500",children:"\xa9 2024 深学助手. 保留所有权利."})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6863)}),_N_E=e.O()}]);