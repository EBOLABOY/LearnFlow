# 深学助手管理系统环境变量配置 v2.0
# 将此文件复制为 .env.local 并填入真实值

# ==================== 数据库配置 ====================
# SQLPub MySQL 数据库连接信息
DB_HOST=mysql2.sqlpub.com
DB_PORT=3307
DB_USER=learnflow
DB_PASSWORD=lrz96V6nE48YkzDB
DB_DATABASE=learnflow

# ==================== 认证配置 ====================
# JWT Token 密钥（必须更改！建议使用32位以上随机字符串）
JWT_SECRET=your_super_secret_jwt_key_here_minimum_32_characters_CHANGE_IN_PRODUCTION

# ==================== API配置 ====================
# API基础URL（管理后台前端使用）
NEXT_PUBLIC_API_BASE_URL=https://learn-flow-ashy.vercel.app/api

# 管理后台域名（用于CORS控制）
NEXT_PUBLIC_ADMIN_DOMAIN=https://your-admin-panel.vercel.app

# ==================== 安全配置 ====================
# 允许的CORS源（生产环境必须限制具体域名）
CORS_ORIGIN=https://your-admin-panel.vercel.app,https://your-extension-domain.com

# 管理员会话超时时间
ADMIN_SESSION_TIMEOUT=7d

# 登录失败锁定配置
ADMIN_MAX_LOGIN_ATTEMPTS=5
ADMIN_LOCKOUT_DURATION=15m

# 速率限制配置
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX_REQUESTS=100

# ==================== 监控配置 ====================
# Sentry错误监控（可选）
NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn-here
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# 日志等级
LOG_LEVEL=info

# ==================== 邮件配置（未来扩展） ====================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=admin@learnflow.app
SMTP_PASS=your-smtp-password

# ==================== 部署配置 ====================
# 环境标识
NODE_ENV=production

# Vercel项目URL
VERCEL_URL=https://your-vercel-project.vercel.app

# ==================== 配置说明 ====================
# 1. 数据库已预配置SQLPub连接信息
# 2. 使用 database/init.sql 初始化数据库表结构
# 3. 必须修改JWT_SECRET为安全的密钥
# 4. 在Vercel项目设置中添加这些环境变量
# 5. 管理后台和API分别部署到不同的Vercel项目
# 6. 生产环境务必限制CORS_ORIGIN为具体域名